<?xml version="1.0" encoding="UTF-8"?>
<launch>

<arg name="robot_namespace" />
<arg name="model" />

<!-- Load joint controller configurations from YAML file to parameter server -->
<rosparam command="load" file="$(find arena-simulation-setup)/robot/$(arg model)/robot_control.yaml" if="$(eval arg ('model') == 'go1')" /> 

<!-- load the controllers -->
<node pkg="controller_manager" type="spawner" name="controller_spawner" respawn="false"
      output="screen" ns="/$(arg model)" args="joint_state_controller
      FL_hip_controller FL_thigh_controller FL_calf_controller
      FR_hip_controller FR_thigh_controller FR_calf_controller
      RL_hip_controller RL_thigh_controller RL_calf_controller
      RR_hip_controller RR_thigh_controller RR_calf_controller "/>

<!-- convert joint states to TF transforms for rviz, etc 
<node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher"
      respawn="false" output="screen">
    <remap from="/joint_states" to="/$(arg model)_gazebo/joint_states"/>
</node>  -->


<!-- load the parameter unitree_controller -->
<include file="$(find unitree_controller)/launch/set_ctrl.launch">
    <arg name="rname" value="$(arg model)"/>
</include>



  <node name="odom_pub" pkg="gazebo_utils" type="odom.py" 
  args="$(arg robot_namespace)" 
    />
</launch>   